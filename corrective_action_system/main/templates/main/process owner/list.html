{% extends 'main/process owner/base.html' %}

{% block content %}
<div class="container">
    <div class="row mb-4">
        <div class="col-12">
            <h1>Process Owner Guidelines</h1>
            <p>Here you can access the guidelines and protocols designed for process owners to effectively oversee and
                manage their processes, <br>ensure compliance with ISO 9001:2015 standards, and implement corrective
                actions within Sorsogon State University.</p>
        </div>
    </div>

    <div class="row">

        <!-- Static Accordion-style Cards on the left side -->
        <div class="col-lg-7 col-md-12 mb-4">
            <div class="col-lg-8 d-flex align-items-center mb-4">
                <i class="fas fa-info-circle" style="font-size: 24px; color: black; margin-right: 10px;"></i>
                <h5 class="mb-0 fw-bold">Process Updates</h5>
            </div>
            <div class="accordion shadow-sm">
                <div class="card mb-3">
                    <div class="card-header" style="background-color: #f8f9fa;">
                        <h6 class="mb-0">
                            <span class="text-dark fw-bold">Corrective Action Procedures</span>
                        </h6>
                    </div>
                    <div class="card-body">
                        <p>Follow these steps to address non-conformities:</p>
                        <ol>
                            <li>Identify the root cause of the non-conformity.</li>
                            <li>Develop a corrective action plan to address the root cause.</li>
                            <li>Implement the corrective action plan.</li>
                            <li>Verify the effectiveness of the corrective action.</li>
                            <li>Document the process and outcomes.</li>
                        </ol>
                    </div>
                </div>

                <div class="card mb-3">
                    <div class="card-header" style="background-color: #f8f9fa;">
                        <h6 class="mb-0">
                            <span class="text-dark fw-bold">Documentation Requirements</span>
                        </h6>
                    </div>
                    <div class="card-body">
                        <p>Ensure all corrective actions are documented according to the ISO 9001:2015 standards. Use
                            the provided templates for consistency.</p>
                    </div>
                </div>

                <div class="card mb-3">
                    <div class="card-header" style="background-color: #f8f9fa;">
                        <h6 class="mb-0">
                            <span class="text-dark fw-bold">External Resources</span>
                        </h6>
                    </div>
                    <div class="card-body">
                        <ul>
                            <li><a href="https://www.iso.org/iso-9001-quality-management.html" target="_blank">ISO
                                9001:2015 Quality Management</a></li>
                            <li><a href="https://www.iso.org/standard/62085.html" target="_blank">ISO Corrective Actions
                                Guidelines</a></li>
                            <li><a href="{% url 'download_template' pk=1 %}">Download Corrective Action Plan
                                Template</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>


        <!-- Guidelines Grid on the right side -->
        <div class="col-lg-4 col-md-6" style="margin-left:50px">
            <!-- Announcements aligned with Guidelines Grid -->
            <div class=" d-flex align-items-center mb-4">
                <i class="fas fa-bullhorn" style="font-size: 24px; color: black; margin-right: 10px;"></i>
                <h5 class="mb-0 fw-bold">Announcements</h5>
            </div>
            {% if guidelines %}
            <div class="row">
                {% for guideline in guidelines %}
                <div class="col-lg-12 col-md-6 mb-3">
                    <div class="card border-light shadow-sm guideline-card h-100" style="min-height: 50px;">
                        <div class="card-body d-flex flex-column" style="padding: 0.75rem;">
                            <h6 class="card-title fw-bold text-dark">{{ guideline.title }}</h6>
                            <p class="card-text text-muted" style="font-size: 0.9rem; margin-bottom: 0.5rem;">
                                {{ guideline.description|truncatechars:100 }}</p>
                            {% if guideline.file %}
                            <a class="mt-2" href="{{ guideline.file.url }}" style="font-size: 0.85rem;" target="_blank">View/Download
                                Attached File</a>
                            {% endif %}
                            <p class="text-muted small mt-auto" style="font-size: 0.8rem;">
                                <i class="fas fa-user"></i> {{ guideline.uploaded_by.username }}
                                <span class="text-muted">|</span>
                                <i class="fas fa-clock"></i> {{ guideline.created_at|date:"F j, Y" }}
                            </p>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            {% else %}
            <div class="alert alert-info">No guidelines available.</div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}

<!-- JavaScript Libraries -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.js'></script>
{% endblock %}
